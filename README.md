# SpringCommerce
_E-commerce webiste using Spring boot (Java) framework_

This website is my midterm project for the Java Technology course, focusing on the creation of an E-commerce website. The detailed project representation is provided in the README file.
## üìñ Table of Contents

- [Business Requirements Overview](#-business-requirements-overview-)
- [Entity Relational Diagram](#-entity-relational-diagram)
- [Technologies and Project Structure](#-technologies-and-project-structure)
- [APIs documentation](#-apis)
- [UI and Postman testing](#-ui-and-postman-testing)
- [Project installation](#-project-installation)

## üìÑ Business Requirements Overview üëÄ
This platform aims to provide a seamless online shopping experience for customers while meeting the business objectives and goals.

1. **User Authentication and Authorization**

- Secure and user-friendly login processes: some features require users to login first to use such as purchase a product.
- Role-based access control to manage permissions effectively: there are 2 roles in the system, which are user and admin.
A user can register to open this own store. In general, an admin can manage user accounts and store-related settings,
a shop owner can add, update, or remove products within their store and
a normal user can browse and purchase products from various stores.

2. **Product Management**

- Support for various product attributes, categories, and pricing structures: The system will accommodate a diverse range of products by allowing sellers to specify various attributes such as color and brands. Products will be categorized logically to enhance navigation for users, enabling them to find items efficiently.
- Products can be filtered: Users will have the ability to filter products based on different criteria, such as price range, brand, and category. Advanced search functionalities will be implemented to provide a seamless and tailored shopping experience.

3. **Order Processing**
- Streamlined order creation, modification, and cancellation processes.
- Users can watch the delivery status of their order

4. **Cart**
- Convenient cart functionality for users to add, update, and remove items: Users can easily add products to their cart with a single click. Intuitive interface for updating quantities or removing items from the cart.
- Cart summary and total calculation: A clear summary of the items in the cart and their total cost. Dynamic updates as users add or remove items.
- Save and retrieve carts for registered users: Registered users can save their shopping carts for future sessions.Quick retrieval of saved carts for a seamless shopping experience.

## üìä Entity Relational Diagram

![image](https://github.com/anh-nt24/SpringCommerce/assets/106876168/093f2d4d-f1f9-42f3-bb5e-81d60690bf5b)

In the diagram above, there are 8 entities: 
- **Account:** Represents user accounts within the system and stores information such as username, password, and email. This account can be either admin or not, specified by the attribute `isAdmin`.
- **Seller or Shop:** Has a many-to-one relationship with the account, meaning a user can own many shops to sell products. The entity stores information about individual shops such as shop name and description.
- **Category:** Organizes products into logical groups or categories.
- **Brand:** Represents distinct brands associated with products, helping users identify and filter products based on brand preferences.
- **Product:** Represents individual items available for purchase and contains details like name, price, description, and other product-specific attributes.
- **Order:** Represents a customer's request to purchase one or more products. Contains information such as order ID, date, and delivery status.
- **OrderDetails:** In the ERD, it is the relationship name, but in the database schema, it is the "linking table" generated by the many-to-many relationship between the Order and Product tables. It captures details about individual products within an order, including quantity and price.
- **Cart:** Represents a virtual shopping cart for users to store selected products before finalizing a purchase.
- **CartItems:** In the ERD, it is the relationship name, but in the database schema, it is the "linking table" generated by the many-to-many relationship between the Account and Product tables to contain details about individual items within a user's shopping cart.

## üöÄ Technologies and Project Structure
### 1. Technologies
In this project, I've applied 2 different technogies to build the client side and server side.
- **Client Side:**
  - **Library:** ReactJS
  - **Key Features:**
    - Declarative and efficient UI development.
    - Component-based architecture for reusability.
    - Facilitates the creation of responsive and dynamic user interfaces.

- **Server Side:**
  - **Framework:** Spring Boot
  - **Key Features:**
    - Simplifies Java-based application development.
    - Convention-over-configuration approach.
    - Supports rapid development and deployment.
    - Enables the creation of scalable and production-grade applications.
- **Database:**
    - **Manager:** MySQL
    - **Key Features:**
        - ACID compliance for robust and reliable transactions.
        - Comprehensive indexing and querying capabilities for optimized data retrieval.


### 2. Project Structure
Overview of the project:

![image](https://github.com/anh-nt24/SpringCommerce/assets/106876168/648fe811-4ab1-41d4-8c8d-2320cde4ea5f)

In general, the `client/src` folder is designated for constructing the frontend using ReactJS, while the `src/main` folder serves as the primary source of code for Spring Boot, forming the backbone of the backend.

1. **`client/src`**: in this folder, I have some *files and directories* as follows:
- **api**: This directory likely contains modules responsible for making API requests, managing endpoints, and handling data communication with the server.
- **layouts**: The "layouts" directory contains higher-order components (HOCs) or layout-specific components that define the overall structure or styling of certain pages or sections.
- **pages**: The "pages" directory likely contains components that represent distinct pages or views in your application. Each page may consist of various components and layouts to create a complete user interface.
- **components**: The "components" directory stores reusable React components. These components can be shared across different parts of your application, enhancing modularity and maintainability.
- **images**: This directory stores image assets used in your React application. Images can include logos, icons, or other visual elements displayed on the user interface.
- **App.js**: The main entry point for your React application. It defines the structure and components that constitute the root of your app.
- **index.js**: The "index.js" file serves as the entry point for rendering your React app. It typically includes code to render the root component (App.js) into the HTML document.

2. **`src/main`**: this directory contains main source code and resource of the project.
- src/main/java: This directory is the primary location for your Java source code. In this directory, i defined a package name `vn.edu.tdtu`. Inside this directory is layers that make up the backend logic of the project. In details:
    - **config** layer includes configuration classes responsible for setting up various components of the Spring application. I use this package for **security configurations** such as password encoding and jwt, **CORS** (Cross-origin resource sharing) configuration to enable ReactJS call apis to Spring.
    - **utils** layer contains utility classes and helper methods for my **response json customization** and **security utils** such as jwt validation, token management.
    - **dto (Data Transfer Objects)** layer holds Data Transfer Objects, facilitating the transfer of data between different layers of the application. DTOs encapsulate data for communication between the frontend and backend or between different backend components. 
    - **entity** layer includes entity classes that represent data models. These entities are mapped to database tables and define the structure of the data used within the application.
    - **repository** layer houses interfaces responsible for database access and interaction implemented Spring Data JPA repositories.
    - **service** layer contains service classes to process business logic. Services act as intermediaries between controllers and repositories.
    - **controller** layer includes RESTful controllers annotated with `@RestController`. These controllers handle incoming HTTP requests, interact with service classes to process business logic, and return appropriate responses to clients.

- src/main/resources: The *application.properties* file in the resources folder is a key configuration file, serving as a central hub for customizable settings, including database connection details, server configurations, and security configurations.


## üåê APIs
There are 28 apis in the project, categorized by each controller:
1. **Account controller**:

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/account/register`                  | POST    | ‚ùå|-                   | name, email, password, phone, address                           | Register an account                      |
| `/api/account/login`             | POST    | ‚ùå| -               | email, password                          | Login and returns jwt token         |

2. **Brand controller**:

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/brand`                  | GET    | ‚ùå | -                   | -                           | Get all brands                      |
| `/api/brand`             | POST    | ‚úÖ  |-               | name                       | Add a new brand          |
| `/api/brand/update`             | PUT    | ‚úÖ  |brand              | name                       | Update the brand name          |
| `/api/brand/delete`             | DELETE    | ‚úÖ  |brand              | -                  | Delete a brand         |
3. **Cart controller**:

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/cart`                  | GET    | ‚úÖ  |  uid                 | -                           | Get cart by user id                      |
| `/api/cart`             | POST    | ‚úÖ  |uid              |   productId, quantity                 | Add a product to the user's cart          |
| `/api/cart/update`             | PUT    | ‚úÖ  |crt             | quantity                      | Update quantity of product in a cart item          |
| `/api/cart/delete`             | DELETE    | ‚úÖ  |crt            | -                  | Delete a cart item         |

4. **Category controller**:

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/category`                  | GET    | ‚ùå | -                   | -                           | Get all category                      |
| `/api/category`             | POST    | ‚úÖ  |-               | name, description                   | Add a new category          |
| `/api/category/update`             | PUT    | ‚úÖ  |ctg           | name, description                      | Update the category name          |
| `/api/category/delete`             | DELETE    | ‚úÖ  |ctg            | -                  | Delete a category         |
5. **Order controller**:

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/order/detail`             | GET    | ‚úÖ  |oid             |   -                 | Get order information          |
| `/api/order`                  | POST    | ‚úÖ  |  -                | customerId, orderDetails (productId, quantity)                          | Place an order                    |
| `/api/order/update`             | PUT    | ‚úÖ  |oid             | status                      | Update order status          |
| `/api/order/delete`             | DELETE    | ‚úÖ  |oid           | -                  | Cancel an order         |

6. **Product controller**:

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/product`             | GET    |  ‚ùå |          - |   -                 | Get all products          |
| `/api/product/detail`             | GET    |  ‚ùå |pid             |   -                 | Get product information          | 
| `/api/product/filter`             | POST    |  ‚ùå |     -      |   name, color, categoryId, brandId, minPrice, maxPrice                 | Filtering or searching products         |
| `/api/product`                  | POST    | ‚úÖ  |  -                | name, description, price, color, stockQuantity, brandId, categoryId, shopId, image                           | Add a new product                    |
| `/api/product/update`             | PUT    | ‚úÖ  |pid             | name, description, price, color, stockQuantity, brandId, categoryId, shopId, image                     | Update product information         |
| `/api/product/delete`             | DELETE    | ‚úÖ  |pid          | -                  | Cancel an order         |

7. **Shop controller**

| Endpoint                      | Method | Authorization? | Request Parameter  | Request Body Key                | Description                        |
| ----------------------------- | ------ | ------ | ------------------- | --------------------------- | ---------------------------------- |
| `/api/shop/view`                  | GET    | ‚ùå | shop                  | -                           | View shop's informatioon                      |
| `/api/shop`             | POST    | ‚úÖ  |-               | shopName, description, onwerId                   | A user registers to open a shop         |
| `/api/shop/update`             | PUT    | ‚úÖ  |shop         | shopName, description, onwerId                   | Update the shop's information          |
| `/api/shop/delete`             | DELETE    | ‚úÖ  |shop            | -                  | Delete a shop         |

## üñ•Ô∏è UI and Postman testing

### 1. UI
- Homepage:

![Screenshot from 2023-11-25 09-07-24](https://github.com/anh-nt24/SpringCommerce/assets/106876168/906d88a6-e14a-45c2-9cba-b1b00fea4202)

- Filter:

![Screenshot from 2023-11-25 09-08-00](https://github.com/anh-nt24/SpringCommerce/assets/106876168/22e4b3d5-98b9-41d6-8bfe-67828d8c6a11)

- View product Detail:

![Screenshot from 2023-11-25 09-08-48](https://github.com/anh-nt24/SpringCommerce/assets/106876168/49246303-6a65-4615-93ac-f180e193ab8a)


- Cart:

![Screenshot from 2023-11-25 14-14-06](https://github.com/anh-nt24/SpringCommerce/assets/106876168/61f12541-4624-417f-b9b8-cc0c51a722e6)

- Login:

![Screenshot from 2023-11-25 09-08-31](https://github.com/anh-nt24/SpringCommerce/assets/106876168/d6946255-7c62-436e-9cd9-7e28358c180f)


### 2. Postman testing

- **Register** (`http://localhost:8080/api/account/register`)
  ![Screenshot from 2023-11-25 07-54-05](https://github.com/anh-nt24/SpringCommerce/assets/106876168/6d8b6dd3-dbf9-4f21-a03c-c313d2e3af89)

- **Login** (`http://localhost:8080/api/account/login`)
  ![Screenshot from 2023-11-25 00-05-50](https://github.com/anh-nt24/SpringCommerce/assets/106876168/a81f0373-d945-4579-8ebf-8ab6b64c6967)

- **Register shop** (`http://localhost:8080/api/shop`)
  ![Screenshot from 2023-11-25 00-33-09](https://github.com/anh-nt24/SpringCommerce/assets/106876168/6b091168-e59f-475d-8936-cf833f2bdba0)

- **View shop detail** (`http://localhost:8080/api/shop/view?shop=1`)
  ![Screenshot from 2023-11-25 00-35-39](https://github.com/anh-nt24/SpringCommerce/assets/106876168/232187c5-0a63-4415-ae6c-9417d642e69d)

- **Update shop's information** (`http://localhost:8080/api/shop/update?shop=1`)
  ![Screenshot from 2023-11-25 00-39-07](https://github.com/anh-nt24/SpringCommerce/assets/106876168/73ae1d56-304c-4806-9062-a7056bd87967)

- **Delete shop** (`http://localhost:8080/api/shop/delete?shop=1`)
  ![Screenshot from 2023-11-25 00-40-29](https://github.com/anh-nt24/SpringCommerce/assets/106876168/36a00342-a35e-41d4-939d-1b938be8d401)

- **Add category** (`http://localhost:8080/api/category`)
  ![Screenshot from 2023-11-25 00-50-40](https://github.com/anh-nt24/SpringCommerce/assets/106876168/2106373b-5bb7-4884-a12e-8c0f149c4441)

- **Retrieve all categories** (`http://localhost:8080/api/category`)
  ![Screenshot from 2023-11-25 00-51-39](https://github.com/anh-nt24/SpringCommerce/assets/106876168/28169016-a20e-4810-9fd9-bfa342a6d2c1)

- **Update a category** (`http://localhost:8080/api/category/update?ctg=3`)
  ![Screenshot from 2023-11-25 00-54-31](https://github.com/anh-nt24/SpringCommerce/assets/106876168/6ff97c11-67d1-4e1d-9fe7-1143ad1cb2c7)

- **Delete a category** (`http://localhost:8080/api/category/delete?ctg=3`)
  ![Screenshot from 2023-11-25 00-56-07](https://github.com/anh-nt24/SpringCommerce/assets/106876168/8207633d-e948-4dd8-9c6c-35c681bf8cbc)

- **Add a new brand** (`http://localhost:8080/api/brand`)
  ![Screenshot from 2023-11-25 01-05-09](https://github.com/anh-nt24/SpringCommerce/assets/106876168/79f8908e-243e-4e69-ac52-fc58833c5a8b)

- **Get all brands** (`http://localhost:8080/api/brand`)
  ![Screenshot from 2023-11-25 01-05-40](https://github.com/anh-nt24/SpringCommerce/assets/106876168/fbff4277-de9f-4cdc-94cf-f1dc0e2b9725)

- **Update a brand** (`http://localhost:8080/api/brand/update?brand=1`)
  ![Screenshot from 2023-11-25 01-07-21](https://github.com/anh-nt24/SpringCommerce/assets/106876168/61171898-299f-4ead-95cc-1a4d1d1f4f94)

- **Delete a brand** (`http://localhost:8080/api/brand/delete?brand=3`)
  ![Screenshot from 2023-11-25 07-57-43](https://github.com/anh-nt24/SpringCommerce/assets/106876168/4c038bdb-738c-48ed-ac42-44b0a82be23d)

- **Add a product** (`http://localhost:8080/api/product`)
  ![Screenshot from 2023-11-25 08-18-29](https://github.com/anh-nt24/SpringCommerce/assets/106876168/0ece18cf-c3b1-4e7c-a1f5-265ad5c02019)

- **Get all products** (`http://localhost:8080/api/product`)
  ![Screenshot from 2023-11-25 14-18-47](https://github.com/anh-nt24/SpringCommerce/assets/106876168/3ff81e77-5b7f-43f9-b545-62d911833edc)

- **View product detail** (`http://localhost:8080/api/product/detail?pid=10`)
  ![Screenshot from 2023-11-25 14-20-50](https://github.com/anh-nt24/SpringCommerce/assets/106876168/074e8fe4-ff45-424a-a71d-58af6ecd872f)

- **Update a product** (`http://localhost:8080/api/product/update?pid=11`)
  ![Screenshot from 2023-11-25 14-30-44](https://github.com/anh-nt24/SpringCommerce/assets/106876168/06a98d3d-d6ff-4bdb-ac70-9e7bc84438d8)

- **Delete a product** (`http://localhost:8080/api/product/delete?pid=11`)
  ![Screenshot from 2023-11-25 14-31-40](https://github.com/anh-nt24/SpringCommerce/assets/106876168/0b1684c7-7377-4559-a436-b42edd7c7c80)

- **Filter products by multiple criteria** (`http://localhost:8080/api/product/filter`)
  ![Screenshot from 2023-11-25 14-45-03](https://github.com/anh-nt24/SpringCommerce/assets/106876168/cbb036ee-491b-4d68-ab90-8264780d4790)

- **View user's cart** (`http://localhost:8080/api/cart?uid=1`)
  ![Screenshot from 2023-11-25 14-57-35](https://github.com/anh-nt24/SpringCommerce/assets/106876168/5862e1b2-90c0-4fc3-ae04-0531dc2ae1de)

- **Add a product to cart** (`http://localhost:8080/api/cart?uid=1`)
  ![Screenshot from 2023-11-25 15-07-33](https://github.com/anh-nt24/SpringCommerce/assets/106876168/cfd17b46-0bce-4b2f-8e1b-e1aa5be08881)

- **Update cart item** (`http://localhost:8080/api/cart/update?crt=4`)
  ![Screenshot from 2023-11-25 15-12-03](https://github.com/anh-nt24/SpringCommerce/assets/106876168/c49a38d6-3a77-46cc-b503-8c958e87a1fc)

- **Delete cart item** (`http://localhost:8080/api/cart/delete?crt=4`)
  ![Screenshot from 2023-11-25 15-13-30](https://github.com/anh-nt24/SpringCommerce/assets/106876168/65bec92f-89fa-45be-9a9a-67d9540c2793)

- **Place an order** (`http://localhost:8080/api/order`)
  ![Screenshot from 2023-11-25 15-20-29](https://github.com/anh-nt24/SpringCommerce/assets/106876168/ad15bc41-5e34-41c0-8af1-207f22d93e51)

- **Get an order's information** (`http://localhost:8080/api/order/detail?oid=1`)
  ![Screenshot from 2023-11-25 15-48-24](https://github.com/anh-nt24/SpringCommerce/assets/106876168/8adf10d8-3698-46a2-98de-598256f08d82)

- **Update order delivery status** (`http://localhost:8080/api/order/update?oid=1`)
   ![Screenshot from 2023-11-25 15-54-17](https://github.com/anh-nt24/SpringCommerce/assets/106876168/1a7019a3-dd01-4cea-9cfa-980a4ff8948e)

  
- **Cancel an order** (`http://localhost:8080/api/order/delete?oid=1`)
  ![Screenshot from 2023-11-25 15-30-08](https://github.com/anh-nt24/SpringCommerce/assets/106876168/8496e93f-8f37-492c-b1c3-dd128207dee2)


## üõ† Project installation

To run this project, follow these steps:
1. **Start the Database Server:**
   - Ensure your MySQL database server is up and running.
   - The database's port should be set to 3306.

2. **Run the Spring Backend:**
   - Use any Spring IDE to run the backend server.

3. **Launch ReactJS:**
   - Navigate to the `client/src` directory in the project root.
   - Open the terminal and run:
     ```bash
     npm install
     ```
     This installs all required packages and dependencies.
   - After the installation is complete, run:
     ```bash
     npm start
     ```
     This starts the ReactJS development server.
   - Open your system browser and navigate to the provided URL (usually port 3000) to explore the application.

